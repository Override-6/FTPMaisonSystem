name: Natives
on:
  workflow_dispatch:
  push:
    branches: [ "dev" ]
    paths: [ "Natives/**" ]

env:
  LIB_NAME: LinkitNatives
  PACKAGES_DEPLOY_PAT: {{secrets.PACKAGES_DEPLOY_PAT}}

jobs:
  Windows:
    name: Windows x64
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - name: Compile binaries
        run: |
          cd Natives
          mkdir build && cd build && cmake .. && cmake --build . --config Release
  MacOS:
    name: Macos x64
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - name: Compile binaries
        run: |
          cd Natives
          mkdir build && cd build && cmake .. && cmake --build . --config Release

  Unix:
    name: Unix x64
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Compile binaries
        run: |
          cd Natives
          mkdir build && cd build && cmake .. && cmake --build . --config Release
      - name: commit
          dir